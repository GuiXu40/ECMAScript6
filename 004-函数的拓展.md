# -----------------------函数的拓展-----------------------
## 目录
<p id="title"></p>
<a href="#p1">:snowflake:函数参数的默认值</a><br>
<a href="#p2">:snowflake:rest参数</a><br>
<a href="#p3">:snowflake:严格模式</a><br>
<a href="#p4">:snowflake:name属性</a><br>
<a href="#p5">:snowflake:箭头函数</a><br>
<a href="#p6">:snowflake:绑定this</a><br>
<a href="#p7">:snowflake:尾调用优化</a><br>
<a href="#p8">:snowflake:函数参数的尾逗号</a><br
<p id="p1"></p>

## :sunny:函数参数的默认值
<a href="#title">:whale2:回到目录</a><br>
#### :mag_right:基本用法
在ES6之前,不能直接为函数的参数指定默认值,只能采用变通的方法:
```JavaScript
function log(x,y){
    y=y || 'world';
    console.log(x,y);
}

log('hello');        //hello,world
log('hello','china');  //hello,china
log('hello','');     //hello,world
```
上面的代码检查log的参数y有没有赋值,如果没有,则指定默认值为'world'.这种写法的缺点在于:*如果参数y赋值了,但对应的布尔值为false,则该赋值不起作用*,参数y等于
空字符串,结果被改为默认值<br>
为了避免这个问题,通常需要被判断一下参数y是否被赋值,如果没有,在令其等于默认值
```JavaScript
if(typeof y=='undefined'){
    y='world';
}
```
ES6允许为函数的参数设定默认值,即**直接写在参数的后面**
```JavaScriptg
function log(x,y='world'){
    console.log(x,y);
}

log('hello');        //hello,world
log('hello','china');  //hello,china
log('hello','');     //hello
```
ES6的写法非常自然
```JavaScript
function Point(x=0;y=0){
    this.x=x;
    this.y=y;
}

var p=new Point();
p  //{x=0,y=0}
```
这种写法的好处:<br>
+ 阅读代码的人可以立刻意识到那些 参数是可以省略的,不用查看函数体或文档
+ 有利于将来的代码的优化
<br>
**注意事项**: 
+ 参数变量是默认声明的,所以不能用let或const再次声明
```JavaScript
function foo(x=5){
    let x=1;    //error
    const x=2 ;  //error
}
```
+ 使用参数默认值时,函数不能有同名参数
```JavaScript
function foo(x,x,y=1){
    // error
}
```
+ 参数默认值不是传值的,而是每次都重新计算默认值表达式的值,(参数默认值是惰性求值的)
```JavaScript
let x=99;
function foo(p=x+1){
    console.log(p);
}
foo()  //100

x=100;
foo()  //101
```
p的默认值是x+1;每次调用函数foo都会重新计算x+1,而不是默认p等于100


#### :mag_right:与解构赋值默认值结合使用
参数默认值可以与解构赋值的默认值结合使用
```JavaScript
function foo({x,y=5}){
    console.log(x,y);
}

foo({});  //undefined ,5
foo({x:1}); //1,5
foo({x:1,y:2});  //1,2
foo()  //error
```
上面的代码使用了对象的解构赋值默认值,而没有使用函数参数的默认值.**只有当函数参数是一个对象时,变量x和y才会通过解构赋值而生成**,如果函数调用时参数不是对象
,变量x和y就不会生成,从而报错,只有参数对象没有y属性时,y的默认值才会生效
#### :mag_right:参数默认值的位置
#### :mag_right:函数的length属性
#### :mag_right:作用域
#### :mag_right:应用
<p id="p2"></p>

## :sunny:rest参数
<a href="#title">:whale2:回到目录</a><br>
<p id="p3"></p>

## :sunny:严格模式
<a href="#title">:whale2:回到目录</a><br>
<p id="p4"></p>

## :sunny:name属性
<a href="#title">:whale2:回到目录</a><br>
<p id="p5"></p>

## :sunny:箭头函数
<a href="#title">:whale2:回到目录</a><br>
#### :mag_right:基本用法
#### :mag_right:注意事项
#### :mag_right:嵌套的箭头函数
<p id="p6"></p>

## :sunny:绑定this
<a href="#title">:whale2:回到目录</a><br>
<p id="p7"></p>

## :sunny:尾调用优化
<a href="#title">:whale2:回到目录</a><br>
#### :mag_right:什么是尾调用
#### :mag_right:尾调用优化
#### :mag_right:尾递归
#### :mag_right:递归函数的改写
#### :mag_right:严格模式
#### :mag_right:尾递归优化的实现
<p id="p8"></p>

## :sunny:函数参数的尾逗号
<a href="#title">:whale2:回到目录</a><br>
